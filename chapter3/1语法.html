<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <pre>
    ECMAScript变量是松散类型的,意思是变量可以用于保存任何类型的数据
    ①var 关键字
    ②let 关键字
    ③const 关键字

    推荐优先使用const, 其次let最后是var
  </pre>
</head>
<body>
  <script>
    /**1.var声明作用域, 关键在于使用var操作符定义的变量会成为包含它的函数的局部变量
     * 比如:使用var 在一个函数内部定义一个变量,就意味着该变量将在函数退出的时候被销毁
     * */
    function test() {
      var message = 'hello' // 局部变量
      // message = 'hi,全局' // 全局变量
    }
    test()
    // console.log(message); // 出错,全局无message变量

    // 连续声明变量,使用 , 分隔即可
    var name = 'bob',
        height = 180,
        sex = 'male'
    /* 2. 变量提升
    在使用var定义变量,会自动提升到函数作用域顶部 
     */
    function foo() {
      console.log(age); // undefined
      var age = 18
    }
    foo()
    /* 
      上面foo这个函数内部相当于, 所以这里的提升就是把所有变量声明都拉到函数作用域的顶部
      function foo() {
        var age;
        console.log(age); // undefined
        age = 18
      }
    */

    // ②let 声明
    /*
      let 与var 的作用差不多, 最明显的区别就是let声明的范围是块级作用域,而var 声明的范围是函数作用域
      example:
      if(true) {
        var names = 'bob';
        console.log(names);  // 'bob'
      }
      console.log(names);  // 'bob'
      
     */
      if(true) {
        let names = 'bob';
        console.log(names);  // 'bob'
      }
      console.log(names);  // Uncaught ReferenceError: names is not defined
      // 在这里names 变量只所以不能在if 块外部被引用,是因为它的作用域仅限于该块内部, 块级作用域是函数作用域的子集
      // 因此适用于var 的作用域限制同时也存在于let
      /* let声明变量注意点
        ps: 1. 同一变量不可重复声明
            2. 声明冗余报错(混用let和 var)
            3. 存在暂存性死区(即不存在变量提升)
            4.与var关键字不同使用let在全局作用域中声明的变量不会变成window对象的属性(var 声明变量会变为window属性)
        // ex3
        function foo() {
          let age;
          console.log(age); // Uncaught ReferenceError: age is not defined
          age = 18
        }
        // ex4
      */

    /* 
      ③const 声明变量
      与let 基本类似,唯一一个重要的区别就是用它声明变量时必须同时初始化变量,
      修改基本类型的变量时不允许的,可以声明对象,修改对象内部属性
    */
     
  </script>
</body>
</html>